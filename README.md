# 鬼単 (OniTan)

鬼単は、漢字検定準1級レベルの漢字学習をサポートするために設計された、シンプルなクイズアプリケーションです。

## 主な機能

- **ステージ制クイズ**: 複数のステージに分かれた漢字クイズに挑戦できます。
- **ステージの自動検出**: `stageX.json`形式のJSONファイルを追加するだけで、新しいステージが自動的にアプリに認識されます。
- **緊張感のあるルール**: 1問でも間違えるとステージの最初からやり直しとなる、集中力が試されるゲームデザインです。
- **進捗の自動保存**: クリアしたステージは自動的に保存され、いつでも続きから再開できます。
- **テーマ設定**: ライトモード、ダークモード、システム設定に加え、5種類のテーマカラー（クラシック、ナチュラル、パッション、エレガント、サンシャイン）から選べます。
- **進捗リセット**: 設定画面からすべての学習記録をリセットし、最初からやり直すことができます。
- **効果音と触覚フィードバック**: 正解・不正解時に効果音と触覚フィードバックが提供され、設定でON/OFFを切り替えられます。
- **ブックマーク機能**: クイズ中に気になった問題をブックマークし、復習モードで重点的に学習できます。
- **復習モード**: 間違えた問題とブックマークした問題が自動的にリストアップされ、後から集中的に復習できます。
- **問題シャッフル機能**: 設定から問題と選択肢の表示順をシャッフルする機能を有効にできます。
- **漢字フォントの変更**: 表示される漢字のフォントを、システム標準、ヒラギノ角ゴ、游ゴシック、明朝体から選択できます。
- **進行度の表示**: 通常のステージでは、現在のステージの総問題数と、それに到達するまでの正解数を表示します。
- **柔軟な復習体験**: 復習モードでは、間違えた問題をリストから削除しながら効率的に学習を進めることができます。

## 技術スタック

- **言語**: Swift
- **フレームワーク**: SwiftUI
- **IDE**: Xcode

## データ構造

クイズの問題はJSONファイルで管理されています。各問題は以下のSwiftの`Question`構造体に対応しています。

```swift
struct Question: Identifiable, Codable {
    let id = UUID()
    let kanji: String
    var choices: [Choice] // Choiceはtext: Stringを持つ構造体
    let answer: String
    let explain: String
}
```

## 実行方法

1.  このリポジトリをクローンします。
2.  `OniTan.xcodeproj` ファイルをXcodeで開きます。
3.  シミュレータまたは実機を選択して、ビルド・実行します。
4.  **効果音について**: 効果音を再生するには、`Quiz-Ding_Dong.mp3`（正解音）と`Quiz-Buzzer.mp3`（不正解音）のファイルをXcodeプロジェクトのメインバンドルに追加する必要があります。